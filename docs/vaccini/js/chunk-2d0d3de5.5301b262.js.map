{"version":3,"sources":["webpack:///./src/views/Mondo.vue?fbec","webpack:///./src/components/ScelteMondo.vue?1775","webpack:///src/components/ScelteMondo.vue","webpack:///./src/components/ScelteMondo.vue?d632","webpack:///./src/components/ScelteMondo.vue","webpack:///src/views/Mondo.vue","webpack:///./src/views/Mondo.vue?41b0","webpack:///./src/views/Mondo.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","paesi","aree","model","value","callback","$$v","scelte","expression","datiGrafico","options","staticRenderFns","directives","name","rawName","modifiers","staticStyle","_v","_s","periodoH","manipH","paeseH","provH","_e","$$selectedVal","Array","prototype","filter","call","target","o","selected","map","val","_value","$set","multiple","_l","item","key","props","computed","listaPaesi","listaAree","paese","periodo","manip","regione","showAree","length","component","components","Loading","data","prov","el","dati","datiPeriodo","d","nome_area","datiTop","row","country","datiTutto","created","window","mondo","caricaMondo","caricaPaesi","methods","labels","casi","morti","ricoveri","mappati","reduce","acc","parseInt","Object","keys","datasets","label","v","fill","max_campo","forEach","values","sort","a","b","indexOf","campo","p","giorni","tmp","push","area"],"mappings":"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","file":"js/chunk-2d0d3de5.5301b262.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mondo\"},[_c('loading',{attrs:{\"active\":_vm.isLoading,\"can-cancel\":false,\"zon-cancel\":\"onCancel\",\"is-full-page\":true},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('ScelteMondo',{attrs:{\"paesi\":_vm.paesi,\"aree\":_vm.aree},model:{value:(_vm.scelte),callback:function ($$v) {_vm.scelte=$$v},expression:\"scelte\"}}),_c('br'),_c('Grafico',{attrs:{\"chart-data\":_vm.datiGrafico,\"options\":_vm.options}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.scelte_mondo\",modifiers:{\"scelte_mondo\":true}}],staticStyle:{\"padding-top\":\"10px\",\"padding-bottom\":\"10px\",\"min-height\":\"45px\"}},[_c('span',{staticClass:\"when-opened\",staticStyle:{\"float\":\"left\",\"padding-left\":\"20px\"}},[_vm._v(\" Personalizza \")]),_c('span',{staticClass:\"when-closed\",staticStyle:{\"float\":\"left\",\"padding-left\":\"20px\"}},[_vm._v(\" \"),_c('b-badge',{attrs:{\"pill\":\"\",\"variant\":\"primary\"}},[_vm._v(_vm._s(_vm.periodoH))]),_vm._v(\" \"),_c('b-badge',{attrs:{\"pill\":\"\",\"variant\":\"info\"}},[_vm._v(_vm._s(_vm.manipH))]),_vm._v(\" \"),_c('b-badge',{attrs:{\"pill\":\"\",\"variant\":\"dark\"}},[_vm._v(_vm._s(_vm.paeseH))]),_vm._v(\" \"),(_vm.value.prov)?_c('b-badge',{attrs:{\"pill\":\"\",\"variant\":\"light\"}},[_vm._v(_vm._s(_vm.provH))]):_vm._e()],1),_c('span',{staticClass:\"when-opened\"},[_c('b-icon',{attrs:{\"icon\":\"x\",\"aria-hidden\":\"true\"}})],1),_c('span',{staticClass:\"when-closed\"},[_c('b-icon',{attrs:{\"icon\":\"chevron-right\",\"aria-hidden\":\"true\"}})],1)]),_c('b-collapse',{attrs:{\"id\":\"scelte_mondo\"}},[_c('b-input-group',{staticClass:\"mb-2 mr-sm-2 mb-sm-0 periodo\",attrs:{\"prepend\":\"Periodo\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value.periodo),expression:\"value.periodo\"}],staticClass:\"custom-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.value, \"periodo\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"last_21\"}},[_vm._v(\"Ultimi 21 giorni\")]),_c('option',{attrs:{\"value\":\"last_180\"}},[_vm._v(\"Ultimi 6 mesi\")]),_c('option',{attrs:{\"value\":\"all\"}},[_vm._v(\"Tutto\")])])]),_c('b-input-group',{staticClass:\"mb-2 mr-sm-2 mb-sm-0 grafico\",attrs:{\"prepend\":\"Grafico\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value.manip),expression:\"value.manip\"}],staticClass:\"custom-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.value, \"manip\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"Giorno per giorno\")]),_c('option',{attrs:{\"value\":\"incremental\"}},[_vm._v(\"Incrementale\")])])]),_c('b-input-group',{staticClass:\"mb-2 mr-sm-2 mb-sm-0 paese\",attrs:{\"prepend\":\"Paese\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value.paese),expression:\"value.paese\"}],staticClass:\"custom-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.value, \"paese\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"all\"}},[_vm._v(\"Tutti\")]),_c('option',{attrs:{\"value\":\"top_dec\"}},[_vm._v(\"Top 15 Deceduti\")]),_c('option',{attrs:{\"value\":\"top_ter\"}},[_vm._v(\"Top 15 Terapie Intensive\")]),_c('option',{attrs:{\"value\":\"top_cas\"}},[_vm._v(\"Top 15 Casi\")]),_vm._l((_vm.listaPaesi),function(item){return _c('option',{key:item},[_vm._v(_vm._s(item))])})],2)]),(_vm.showAree)?_c('b-input-group',{staticClass:\"mb-2 mr-sm-2 mb-sm-0 prov\",attrs:{\"prepend\":\"Area\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value.prov),expression:\"value.prov\"}],staticClass:\"custom-select\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.value, \"prov\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"all\"}},[_vm._v(\"Tutte\")]),_vm._l((_vm.listaAree),function(item){return _c('option',{key:item},[_vm._v(_vm._s(item))])})],2)]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-b-toggle.scelte_mondo\n      style=\"padding-top: 10px; padding-bottom: 10px; min-height: 45px;\">\n\n      <span class=\"when-opened\" style=\"float: left; padding-left: 20px;\">\n        &nbsp;&nbsp;\n        Personalizza\n      </span>\n      <span class=\"when-closed\" style=\"float: left; padding-left: 20px;\">\n        &nbsp;&nbsp;\n        <b-badge pill variant=\"primary\">{{periodoH}}</b-badge>\n        &nbsp;&nbsp;\n        <b-badge pill variant=\"info\">{{manipH}}</b-badge>\n        &nbsp;&nbsp;\n        <b-badge pill variant=\"dark\">{{paeseH}}</b-badge>\n        &nbsp;&nbsp;\n        <b-badge pill variant=\"light\" v-if=\"value.prov\">{{provH}}</b-badge>\n      </span>\n      \n      <!-- b-badge pill variant=\"success\">Success</b-badge>\n      <b-badge pill variant=\"danger\">Danger</b-badge>\n      <b-badge pill variant=\"warning\">Warning</b-badge>\n      <b-badge pill variant=\"light\">Light</b-badge -->\n\n      <span class=\"when-opened\">\n        <!-- b-icon icon=\"chevron-down\" aria-hidden=\"true\"></b-icon -->\n        <b-icon icon=\"x\" aria-hidden=\"true\"></b-icon>\n      </span>\n      <span class=\"when-closed\">\n        <b-icon icon=\"chevron-right\" aria-hidden=\"true\"></b-icon>\n      </span>\n    </div>\n\n\n    <b-collapse id=\"scelte_mondo\">\n      <b-input-group prepend=\"Periodo\" class=\"mb-2 mr-sm-2 mb-sm-0 periodo\">\n        <select class=\"custom-select\" v-model=\"value.periodo\">\n          <option value=\"last_21\">Ultimi 21 giorni</option>\n          <option value=\"last_180\">Ultimi 6 mesi</option>\n          <option value=\"all\">Tutto</option>\n        </select>\n      </b-input-group>\n\n      <b-input-group prepend=\"Grafico\" class=\"mb-2 mr-sm-2 mb-sm-0 grafico\">\n        <select class=\"custom-select\" v-model=\"value.manip\">\n          <option value=\"\">Giorno per giorno</option>\n          <option value=\"incremental\">Incrementale</option>\n        </select>\n      </b-input-group>\n\n      <b-input-group prepend=\"Paese\" class=\"mb-2 mr-sm-2 mb-sm-0 paese\">\n        <select class=\"custom-select\" v-model=\"value.paese\">\n          <option value=\"all\">Tutti</option>\n          <option value=\"top_dec\">Top 15 Deceduti</option>\n          <option value=\"top_ter\">Top 15 Terapie Intensive</option>\n          <option value=\"top_cas\">Top 15 Casi</option>\n          <option v-for=\"item in listaPaesi\" :key=\"item\">{{item}}</option>\n        </select>\n      </b-input-group>\n\n      <b-input-group v-if=\"showAree\"\n        prepend=\"Area\" class=\"mb-2 mr-sm-2 mb-sm-0 prov\">\n        <select class=\"custom-select\" v-model=\"value.prov\">\n          <option value=\"all\">Tutte</option>\n          <option v-for=\"item in listaAree\" :key=\"item\">{{item}}</option>\n        </select>\n      </b-input-group>\n    </b-collapse>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ScelteMondo',\n  props: ['value', 'paesi', 'aree'],\n  computed: {\n    listaPaesi(){\n      return this.paesi || [];\n    },\n    listaAree(){\n      return this.aree[this.value.paese] || [];\n    },\n    periodoH() {\n      if (this.value.periodo == 'last_21') return \"Ultimi 21 giorni\";\n      if (this.value.periodo == 'last_180') return \"Ultimi 6 mesi\";\n      return \"Periodo completo\";\n    },\n    manipH() {\n      if (this.value.manip == 'incremental') return \"Incrementale\";\n      return \"Giorno per giorno\";\n    },\n    paeseH() {\n      if (this.value.regione == 'all') return \"Tutta il mondo\";\n      return this.value.regione;\n    },\n    provH() {\n      if (this.value.regione == 'all') return \"Tutta Italia\";\n      return this.value.regione;\n    },\n    showAree() {\n      return this.aree.length > 0 ? true : false;\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScelteMondo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScelteMondo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScelteMondo.vue?vue&type=template&id=170d0749&\"\nimport script from \"./ScelteMondo.vue?vue&type=script&lang=js&\"\nexport * from \"./ScelteMondo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"mondo\">\n    <loading :active.sync=\"isLoading\" \n        :can-cancel=\"false\" \n        zon-cancel=\"onCancel\"\n        :is-full-page=\"true\"></loading>\n    <ScelteMondo v-model=\"scelte\" :paesi=\"paesi\" :aree=\"aree\" />\n    <br />\n    <Grafico :chart-data=\"datiGrafico\" :options=\"options\" />\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport ScelteMondo from '@/components/ScelteMondo.vue'\nimport Grafico from '@/components/Grafico.js'\nimport Loading from 'vue-loading-overlay';\nimport 'vue-loading-overlay/dist/vue-loading.css';\n\nimport {dafaultChartOptions} from '@/lib/chartUtils';\nimport {filtraDati, dataDMY, manipulateData} from '@/lib/dataUtils';\nimport {caricaMondo} from '@/lib/loadUtils';\n\n// https://codesandbox.io/s/github/vuejs/vuejs.org/tree/master/src/v2/examples/vue-20-github-commits?from-embed=&file=/index.html:1562-1618\nexport default {\n  name: 'Consegne',\n  components: {\n    Loading, ScelteMondo, Grafico\n  },\n  data: function () {\n    return {\n      isLoading: false,\n      scelte: {\n        periodo: 'last_180',\n        manip: 'incremental',\n        paese: 'all',\n        prov: 'all'\n      },\n      paesi: ['Italia'],\n      aree: {'Italia': [1,2,3]},\n      options: dafaultChartOptions,\n    };\n  },\n  computed: {\n    datiGrafico: function(){\n      var el = this;\n      var dati = el.datiPeriodo(el.scelte.periodo);\n      if (el.scelte.regione != 'all') {\n        dati = dati.filter((d)=>{\n          return d.nome_area == el.scelte.regione\n        });\n      }\n      if (el.scelte.paese == 'top_dec') return el.datiTop(dati, 'morti');\n      if (el.scelte.paese == 'top_ter') return el.datiTop(dati, 'ricoveri');\n      if (el.scelte.paese == 'top_cas') return el.datiTop(dati, 'casi');\n      if (el.scelte.paese == 'all') return el.datiTutto(dati);\n      dati = dati.filter(function(row){\n        return row.country == el.scelte.paese ? true : false;\n      });\n      // if (el.scelte.prov) {\n      //   dati = dati.filter(function(row){\n      //     return row.area == el.scelte.prov ? true : false;\n      //   });\n      // }\n      return el.datiTutto(dati);\n    }\n  },\n  created: function() {\n    if (!window.mondo) this.caricaMondo();\n    this.caricaPaesi();\n  },\n  // watch: { },\n  methods: {\n    datiTutto: function(dati){\n      var el = this;\n      var labels = {\n        casi: 'Casi',\n        morti: 'Decessi',\n        ricoveri: 'Terapie Intensive'\n      };\n      var mappati = dati.reduce(function(acc, d){\n        var data = dataDMY(d.data);\n        if (!acc[data]) acc[data] = {\n          casi: 0,\n          morti: 0,\n          ricoveri: 0\n        };\n        acc[data].casi     += d.casi    ;\n        acc[data].morti    += d.morti   ;\n        acc[data].ricoveri += parseInt(d.ricoveri) || 0;\n        return acc;\n      }, {});\n      return {\n        labels: Object.keys(mappati),\n        datasets: Object.keys(labels).map(function(v){\n          return {\n            label: labels[v],\n            fill: false,\n            data: manipulateData(Object.values(mappati).map(function(d){\n              return d[v] ? d[v] : 0;\n            }), el.scelte.manip)\n          };\n        })\n      };\n    },\n    datiTop: function(dati, campo){\n      var el = this;\n      var paesi = {};\n      var max_campo = `max_${campo}`;\n      dati.forEach(function(d){\n        if (!paesi[d.country]) paesi[d.country] = {c: d.country, v: 0};\n        if (paesi[d.country].v < d[max_campo]) paesi[d.country].v = d[max_campo];\n      });\n      paesi = Object.values(paesi).sort(function(a,b){\n        if (a.v > b.v) return -1;\n        if (a.v < b.v) return 1;\n        return 0;\n      });\n      paesi = paesi.map(i=>i.c).slice(0, 15);\n      \n      dati = dati.filter((d)=>{\n        if (paesi.indexOf(d.country) < 0) return false;\n        return true;\n      });\n\n      var mappati = dati.reduce(function(acc, d){\n        var data = dataDMY(d.data);\n        if (!acc[data]) acc[data] = {};\n        if (!acc[data][d.country]) acc[data][d.country] = 0;\n        acc[data][d.country] += d[campo];\n        return acc;\n      }, {});\n      return {\n        labels: Object.keys(mappati),\n        datasets: paesi.map(function(p){\n          return {\n            label: p,\n            fill: false,\n            data: manipulateData(Object.values(mappati).map(function(d){\n              return d[p] ? d[p] : 0;\n            }), el.scelte.manip)\n          };\n        })\n      };\n    },\n    // datiFornitore: function(dati){\n    //   var el = this;\n    //   var totale = 0;\n    //   var fornitori = [];\n    //   dati.forEach(function(d){\n    //     if (fornitori.indexOf(d.fornitore) < 0) fornitori.push(d.fornitore);\n    //   });\n    //   var mappati = dati.reduce(function(acc, d){\n    //     var data = dataDMY(d.data_consegna);\n    //     if (!acc[data]) acc[data] = {};\n    //     if (!acc[data][d.fornitore]) acc[data][d.fornitore] = 0;\n    //     acc[data][d.fornitore] += d.numero_dosi;\n    //     totale += d.numero_dosi;\n    //     return acc;\n    //   }, {});\n    //   el.totale = totale;\n    //   return {\n    //     labels: Object.keys(mappati),\n    //     datasets: fornitori.map(function(f){\n    //       return {\n    //         label: f,\n    //         fill: false,\n    //         data: manipulateData(Object.values(mappati).map(function(d){\n    //           return d[f] ? d[f] : 0;\n    //         }), el.scelte.manip)\n    //       };\n    //     })\n    //   };\n    // },\n    datiPeriodo: function(periodo){\n      if (!window.mondo) return [];\n      var dati = window.mondo;\n      var giorni = null;\n    \n      if (periodo == 'last_21') giorni = 22;\n      if (periodo == 'last_180') giorni = 181;\n      dati = filtraDati(dati, 'data', giorni);\n\n      return dati;\n    },\n    caricaMondo: function(){\n      var el = this;\n      el.isLoading = true;\n      var tmp = el.scelte.periodo;\n      el.scelte.periodo = 'NONE';\n      caricaMondo(function(){\n        el.isLoading = false;\n        el.scelte.periodo = tmp;\n        el.caricaPaesi();\n      });\n    },\n    caricaPaesi: function(){\n      var el = this;\n      el.paesi = [];\n      el.aree = {};\n      if (!window.mondo) return;\n      window.mondo.forEach(function(d){\n        if (!d.country) return;\n        if (el.paesi.indexOf(d.country) < 0) el.paesi.push(d.country);\n        if (!d.area) return;\n        if (!el.aree[d.country]) el.aree[d.country] = [];\n        if (el.aree[d.country].indexOf(d.area) < 0) {\n          el.aree[d.country].push(d.area);\n          el.aree[d.country] = el.aree[d.country].sort();\n        }\n      });\n      el.paesi = el.paesi.sort();\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mondo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mondo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Mondo.vue?vue&type=template&id=59a2e1d8&\"\nimport script from \"./Mondo.vue?vue&type=script&lang=js&\"\nexport * from \"./Mondo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}