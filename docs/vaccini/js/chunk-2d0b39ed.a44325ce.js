(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b39ed"],{"28c4":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"consegne"},[a("loading",{attrs:{active:e.isLoading,"can-cancel":!1,"zon-cancel":"onCancel","is-full-page":!0},on:{"update:active":function(t){e.isLoading=t}}}),a("ScelteConsegne",{model:{value:e.scelte,callback:function(t){e.scelte=t},expression:"scelte"}}),a("br"),a("Grafico",{attrs:{"chart-data":e.datiGrafico,options:e.options}})],1)},n=[],i=(a("4de4"),a("13d5"),a("b64b"),a("07ac"),a("159b"),a("d81d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"b-toggle",rawName:"v-b-toggle.scelte_consegne",modifiers:{scelte_consegne:!0}}],staticStyle:{"padding-top":"10px","padding-bottom":"10px"}},[a("b-badge",{attrs:{pill:"",variant:"primary"}},[e._v(e._s(e.periodoH))]),e._v(" "),a("b-badge",{attrs:{pill:"",variant:"info"}},[e._v(e._s(e.manipH))]),e._v(" "),a("b-badge",{attrs:{pill:"",variant:"secondary"}},[e._v(e._s(e.group_byH))]),e._v(" "),a("b-badge",{attrs:{pill:"",variant:"dark"}},[e._v(e._s(e.regioneH))]),a("span",{staticClass:"when-opened"},[a("b-icon",{attrs:{icon:"chevron-down","aria-hidden":"true"}})],1),a("span",{staticClass:"when-closed"},[a("b-icon",{attrs:{icon:"chevron-right","aria-hidden":"true"}})],1)],1),a("b-collapse",{attrs:{id:"scelte_consegne"}},[a("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0 periodo",attrs:{prepend:"Periodo"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.value.periodo,expression:"value.periodo"}],staticClass:"custom-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.value,"periodo",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"last_21"}},[e._v("Ultimi 21 giorni")]),a("option",{attrs:{value:"last_180"}},[e._v("Ultimi 6 mesi")]),a("option",{attrs:{value:"all"}},[e._v("Tutto")])])]),a("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0 grafico",attrs:{prepend:"Grafico"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.value.manip,expression:"value.manip"}],staticClass:"custom-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.value,"manip",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v("Giorno per giorno")]),a("option",{attrs:{value:"incremental"}},[e._v("Incrementale")])])]),a("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0 group_by",attrs:{prepend:"Andamento"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.value.group_by,expression:"value.group_by"}],staticClass:"custom-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.value,"group_by",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"tot"}},[e._v("Totale")]),a("option",{attrs:{value:"reg"}},[e._v("Regione")]),a("option",{attrs:{value:"for"}},[e._v("Fornitore")])])]),a("b-input-group",{staticClass:"mb-2 mr-sm-2 mb-sm-0 regione",attrs:{prepend:"Regione"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.value.regione,expression:"value.regione"}],staticClass:"custom-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.value,"regione",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"all"}},[e._v("Tutte")]),a("option",[e._v("Abruzzo")]),a("option",[e._v("Basilicata")]),a("option",[e._v("Calabria")]),a("option",[e._v("Campania")]),a("option",[e._v("Emilia-Romagna")]),a("option",[e._v("Friuli-Venezia Giulia")]),a("option",[e._v("Lazio")]),a("option",[e._v("Liguria")]),a("option",[e._v("Lombardia")]),a("option",[e._v("Marche")]),a("option",[e._v("Molise")]),a("option",[e._v("Provincia Autonoma Bolzano / Bozen")]),a("option",[e._v("Provincia Autonoma Trento")]),a("option",[e._v("Piemonte")]),a("option",[e._v("Puglia")]),a("option",[e._v("Sardegna")]),a("option",[e._v("Sicilia")]),a("option",[e._v("Toscana")]),a("option",[e._v("Umbria")]),a("option",[e._v("Valle d'Aosta / Vall√©e d'Aoste")]),a("option",[e._v("Veneto")])])])],1)],1)}),r=[],l={name:"ScelteConsegne",props:["value"],computed:{periodoH:function(){return"last_21"==this.value.periodo?"Ultimi 21 giorni":"last_180"==this.value.periodo?"Ultimi 6 mesi":"Periodo completo"},manipH:function(){return"incremental"==this.value.manip?"Incrementale":"Giorno per giorno"},group_byH:function(){return"reg"==this.value.group_by?"Regione":"for"==this.value.group_by?"Fornitore":"Andamento complessivo"},regioneH:function(){return"all"==this.value.regione?"Tutta Italia":this.value.regione}}},s=l,c=a("2877"),u=Object(c["a"])(s,i,r,!1,null,null,null),p=u.exports,v=a("79dd"),d=a("9062"),m=a.n(d),g=(a("e40d"),a("5fdb")),_=a("be03"),b=a("87d4"),f={name:"Consegne",components:{Loading:m.a,ScelteConsegne:p,Grafico:v["a"]},data:function(){return{isLoading:!1,scelte:{periodo:"last_180",group_by:"tot",manip:"incremental",regione:"all"},totale:0,options:g["a"]}},computed:{datiGrafico:function(){var e=this,t=e.datiPeriodo(e.scelte.periodo);return"all"!=e.scelte.regione&&(t=t.filter((function(t){return t.nome_area==e.scelte.regione}))),"reg"==e.scelte.group_by?e.datiRegione(t):"for"==e.scelte.group_by?e.datiFornitore(t):e.datiTutto(t)}},created:function(){window.consegne||this.caricaConsegne()},methods:{datiTutto:function(e){var t=this,a=0,o=e.reduce((function(e,t){var o=Object(_["a"])(t.data_consegna);return e[o]||(e[o]=0),e[o]+=t.numero_dosi,a+=t.numero_dosi,e}),{});return t.totale=a,{labels:Object.keys(o),datasets:[{label:"Complessivo",fill:!1,data:Object(_["c"])(Object.values(o),t.scelte.manip)}]}},datiRegione:function(e){var t=this,a=0,o=[];e.forEach((function(e){o.indexOf(e.nome_area)<0&&o.push(e.nome_area)}));var n=e.reduce((function(e,t){var o=Object(_["a"])(t.data_consegna);return e[o]||(e[o]={}),e[o][t.nome_area]||(e[o][t.nome_area]=0),e[o][t.nome_area]+=t.numero_dosi,a+=t.numero_dosi,e}),{});return t.totale=a,{labels:Object.keys(n),datasets:o.map((function(e){return{label:e,fill:!1,data:Object(_["c"])(Object.values(n).map((function(t){return t[e]?t[e]:0})),t.scelte.manip)}}))}},datiFornitore:function(e){var t=this,a=0,o=[];e.forEach((function(e){o.indexOf(e.fornitore)<0&&o.push(e.fornitore)}));var n=e.reduce((function(e,t){var o=Object(_["a"])(t.data_consegna);return e[o]||(e[o]={}),e[o][t.fornitore]||(e[o][t.fornitore]=0),e[o][t.fornitore]+=t.numero_dosi,a+=t.numero_dosi,e}),{});return t.totale=a,{labels:Object.keys(n),datasets:o.map((function(e){return{label:e,fill:!1,data:Object(_["c"])(Object.values(n).map((function(t){return t[e]?t[e]:0})),t.scelte.manip)}}))}},datiPeriodo:function(e){if(!window.consegne)return[];var t=window.consegne.data,a=null;return"last_21"==e&&(a=22),"last_180"==e&&(a=181),Object(_["b"])(t,"data_consegna",a)},caricaConsegne:function(){var e=this;e.isLoading=!0;var t=e.scelte.group_by;e.scelte.group_by="NONE",Object(b["a"])((function(){e.isLoading=!1,e.scelte.group_by=t}))}}},h=f,y=Object(c["a"])(h,o,n,!1,null,null,null);t["default"]=y.exports}}]);
//# sourceMappingURL=chunk-2d0b39ed.a44325ce.js.map